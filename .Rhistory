align = "ll|l|lllllllll")
sink("/Users/chrissoria/Documents/Research/us_international_ses/tables/r_tables/table1.tex")
print(table1_code, type = "latex",
caption.placement = "top",
size = "\\small",
include.rownames = FALSE)
sink()
create_table_for_sex <- function(sex_value) {
us_df %>%
filter(sex == sex_value) %>%
group_by(bplcountry) %>%
summarise(
mean_age = weighted.mean(age, perwt, na.rm = TRUE),
mean_married_cohab = weighted.mean(married_cohab, perwt, na.rm = TRUE),
mean_english_speaker = weighted.mean(english_speaker, perwt, na.rm = TRUE),
mean_is_citizen = weighted.mean(is_citizen, perwt, na.rm = TRUE),
mean_age_at_immigration = weighted.mean(age_at_immigration, perwt, na.rm = TRUE),
mean_years_in_us = weighted.mean(years_in_us, perwt, na.rm = TRUE),
mean_less_than_primary_completed = weighted.mean(less_than_primary_completed, perwt, na.rm = TRUE),
mean_primary_completed = weighted.mean(primary_completed, perwt, na.rm = TRUE),
mean_secondary_completed = weighted.mean(secondary_completed, perwt, na.rm = TRUE),
mean_university_completed = weighted.mean(university_completed, perwt, na.rm = TRUE)
) %>%
pivot_longer(cols = -bplcountry, names_to = "variable", values_to = "value") %>%
pivot_wider(names_from = bplcountry, values_from = value) %>%
mutate(variable = recode(variable,
mean_age = "Age",
mean_married_cohab = "Married/Cohabiting",
mean_english_speaker = "English Speakers",
mean_is_citizen = "Citizen",
mean_age_at_immigration = "Age at Immigration",
mean_years_in_us = "Years in US",
mean_less_than_primary_completed = "Less than Primary Completed",
mean_primary_completed = "Primary Completed",
mean_secondary_completed = "Secondary Completed",
mean_university_completed = "University Completed"
))
}
table_sex_1 <- create_table_for_sex(1)
table_sex_2 <- create_table_for_sex(2)
combined_table <- bind_rows(
table_sex_2, #females first
table_sex_1 #males second
)
combined_table <- combined_table %>%
mutate(across(where(is.numeric), round, digits = 2)) %>%
mutate(across(everything(), ~ as.character(.))) %>%
mutate(across(everything(), ~ ifelse(. == "NaN", "-", .))) %>%
mutate(across(everything(), ~ ifelse(. == "0", "-", .))) %>%
mutate(Gender = ifelse(row_number() == 1, "Women",
ifelse(row_number() == 11, "Men", ""))) %>%
select(Gender, everything()) %>%
rename(Demographics = variable)
print(combined_table)
table2_code <- xtable(combined_table, caption = "Summary Statistics by Country and Sex",
align = "ll|l|lllllllll")
sink("/Users/chrissoria/Documents/Research/us_international_ses/tables/r_tables/table2.tex")
print(table2_code, type = "latex",
caption.placement = "top",
size = "\\small",
include.rownames = FALSE)
sink()
variable_labels <- c(
mean_age = "Age",
mean_married_cohab = "Married/Cohabiting",
mean_english_speaker = "English Speakers",
mean_is_citizen = "Citizen",
mean_age_at_immigration = "Age at Immigration",
mean_years_in_us = "Years in US",
mean_less_than_primary_completed = "Less than Primary Completed",
mean_primary_completed = "Primary Completed",
mean_secondary_completed = "Secondary Completed",
mean_university_completed = "University Completed"
)
create_table_for_race <- function(sex_value) {
us_df %>%
filter(sex == sex_value) %>%
filter(!is.na(race_native_category)) %>%
group_by(race_native_category) %>%
summarise(
mean_age = weighted.mean(age, perwt, na.rm = TRUE),
mean_married_cohab = weighted.mean(married_cohab, perwt, na.rm = TRUE),
mean_english_speaker = weighted.mean(english_speaker, perwt, na.rm = TRUE),
mean_is_citizen = weighted.mean(is_citizen, perwt, na.rm = TRUE),
mean_age_at_immigration = weighted.mean(age_at_immigration, perwt, na.rm = TRUE),
mean_years_in_us = weighted.mean(years_in_us, perwt, na.rm = TRUE),
mean_less_than_primary_completed = weighted.mean(less_than_primary_completed, perwt, na.rm = TRUE),
mean_primary_completed = weighted.mean(primary_completed, perwt, na.rm = TRUE),
mean_secondary_completed = weighted.mean(secondary_completed, perwt, na.rm = TRUE),
mean_university_completed = weighted.mean(university_completed, perwt, na.rm = TRUE)
) %>%
pivot_longer(cols = -race_native_category, names_to = "variable", values_to = "value") %>%
pivot_wider(names_from = race_native_category, values_from = value) %>%
mutate(variable = variable %>%
recode(!!!variable_labels))
}
table_sex_1 <- create_table_for_race(1)
table_sex_2 <- create_table_for_race(2)
combined_table <- bind_rows(
table_sex_2, #females first
table_sex_1 #males second
)
combined_table <- combined_table %>%
mutate(across(where(is.numeric), round, digits = 2)) %>%
mutate(across(everything(), ~ as.character(.))) %>%
mutate(across(everything(), ~ ifelse(. == "NaN", "-", .))) %>%
mutate(across(everything(), ~ ifelse(. == "0", "-", .))) %>%
mutate(across(everything(), ~ ifelse(. == "1", "-", .))) %>%
mutate(Gender = ifelse(row_number() == 1, "Women",
ifelse(row_number() == 11, "Men", ""))) %>%
select(Gender, everything()) %>%
rename(Demographics = variable)
print(combined_table)
table3_code <- xtable(combined_table, caption = "Summary Statistics by Country and Sex",
align = "ll|l|p{1.5cm}p{1.5cm}p{1.5cm}p{1.5cm}p{1.5cm}p{1.5cm}p{1.5cm}")
sink("/Users/chrissoria/Documents/Research/us_international_ses/tables/r_tables/table3.tex")
print(table3_code, type = "latex",
caption.placement = "top",
size = "\\small",
include.rownames = FALSE)
sink()
create_table_for_sex <- function(sex_value) {
us_df %>%
filter(sex == sex_value) %>%
group_by(bplcountry) %>%
summarise(
mean_age = weighted.mean(age, perwt, na.rm = TRUE),
mean_married_cohab = weighted.mean(married_cohab, perwt, na.rm = TRUE),
mean_english_speaker = weighted.mean(english_speaker, perwt, na.rm = TRUE),
mean_is_citizen = weighted.mean(is_citizen, perwt, na.rm = TRUE),
mean_age_at_immigration = weighted.mean(age_at_immigration, perwt, na.rm = TRUE),
mean_years_in_us = weighted.mean(years_in_us, perwt, na.rm = TRUE),
mean_less_than_primary_completed = weighted.mean(less_than_primary_completed, perwt, na.rm = TRUE),
mean_primary_completed = weighted.mean(primary_completed, perwt, na.rm = TRUE),
mean_secondary_completed = weighted.mean(secondary_completed, perwt, na.rm = TRUE),
mean_university_completed = weighted.mean(university_completed, perwt, na.rm = TRUE)
) %>%
pivot_longer(cols = -bplcountry, names_to = "variable", values_to = "value") %>%
pivot_wider(names_from = bplcountry, values_from = value) %>%
mutate(variable = recode(variable,
mean_age = "Age",
mean_married_cohab = "Married/Cohabiting",
mean_english_speaker = "English Speakers",
mean_is_citizen = "Citizen",
mean_age_at_immigration = "Age at Immigration",
mean_years_in_us = "Years in US",
mean_less_than_primary_completed = "Less than Primary Completed",
mean_primary_completed = "Primary Completed",
mean_secondary_completed = "Secondary Completed",
mean_university_completed = "University Completed"
))
}
table_sex_1 <- create_table_for_sex(1)
table_sex_2 <- create_table_for_sex(2)
combined_table <- bind_rows(
table_sex_2, #females first
table_sex_1 #males second
)
combined_table <- combined_table %>%
mutate(across(where(is.numeric), round, digits = 2)) %>%
mutate(across(everything(), ~ as.character(.))) %>%
mutate(across(everything(), ~ ifelse(. == "NaN", "-", .))) %>%
mutate(across(everything(), ~ ifelse(. == "0", "-", .))) %>%
mutate(Gender = ifelse(row_number() == 1, "Women",
ifelse(row_number() == 11, "Men", ""))) %>%
select(Gender, Demographics, Colombia, Cuba, `Dominican Republic`, `El Salvador`, Guatemala, Honduras, Mexico, `Puerto Rico`, `United States`) %>%
rename(Demographics = variable)
combined_table
create_table_for_sex <- function(sex_value) {
us_df %>%
filter(sex == sex_value) %>%
group_by(bplcountry) %>%
summarise(
mean_age = weighted.mean(age, perwt, na.rm = TRUE),
mean_married_cohab = weighted.mean(married_cohab, perwt, na.rm = TRUE),
mean_english_speaker = weighted.mean(english_speaker, perwt, na.rm = TRUE),
mean_is_citizen = weighted.mean(is_citizen, perwt, na.rm = TRUE),
mean_age_at_immigration = weighted.mean(age_at_immigration, perwt, na.rm = TRUE),
mean_years_in_us = weighted.mean(years_in_us, perwt, na.rm = TRUE),
mean_less_than_primary_completed = weighted.mean(less_than_primary_completed, perwt, na.rm = TRUE),
mean_primary_completed = weighted.mean(primary_completed, perwt, na.rm = TRUE),
mean_secondary_completed = weighted.mean(secondary_completed, perwt, na.rm = TRUE),
mean_university_completed = weighted.mean(university_completed, perwt, na.rm = TRUE)
) %>%
pivot_longer(cols = -bplcountry, names_to = "variable", values_to = "value") %>%
pivot_wider(names_from = bplcountry, values_from = value) %>%
mutate(variable = recode(variable,
mean_age = "Age",
mean_married_cohab = "Married/Cohabiting",
mean_english_speaker = "English Speakers",
mean_is_citizen = "Citizen",
mean_age_at_immigration = "Age at Immigration",
mean_years_in_us = "Years in US",
mean_less_than_primary_completed = "Less than Primary Completed",
mean_primary_completed = "Primary Completed",
mean_secondary_completed = "Secondary Completed",
mean_university_completed = "University Completed"
))
}
table_sex_1 <- create_table_for_sex(1)
table_sex_2 <- create_table_for_sex(2)
combined_table <- bind_rows(
table_sex_2, #females first
table_sex_1 #males second
)
combined_table <- combined_table %>%
mutate(across(where(is.numeric), round, digits = 2)) %>%
mutate(across(everything(), ~ as.character(.))) %>%
mutate(across(everything(), ~ ifelse(. == "NaN", "-", .))) %>%
mutate(across(everything(), ~ ifelse(. == "0", "-", .))) %>%
mutate(Gender = ifelse(row_number() == 1, "Women",
ifelse(row_number() == 11, "Men", ""))) %>%
select(Gender, variable, Colombia, Cuba, `Dominican Republic`, `El Salvador`, Guatemala, Honduras, Mexico, `Puerto Rico`, `United States`) %>%
rename(Demographics = variable)
variable
create_table_for_sex <- function(sex_value) {
us_df %>%
filter(sex == sex_value) %>%
group_by(bplcountry) %>%
summarise(
mean_age = weighted.mean(age, perwt, na.rm = TRUE),
mean_married_cohab = weighted.mean(married_cohab, perwt, na.rm = TRUE),
mean_english_speaker = weighted.mean(english_speaker, perwt, na.rm = TRUE),
mean_is_citizen = weighted.mean(is_citizen, perwt, na.rm = TRUE),
mean_age_at_immigration = weighted.mean(age_at_immigration, perwt, na.rm = TRUE),
mean_years_in_us = weighted.mean(years_in_us, perwt, na.rm = TRUE),
mean_less_than_primary_completed = weighted.mean(less_than_primary_completed, perwt, na.rm = TRUE),
mean_primary_completed = weighted.mean(primary_completed, perwt, na.rm = TRUE),
mean_secondary_completed = weighted.mean(secondary_completed, perwt, na.rm = TRUE),
mean_university_completed = weighted.mean(university_completed, perwt, na.rm = TRUE)
) %>%
pivot_longer(cols = -bplcountry, names_to = "variable", values_to = "value") %>%
pivot_wider(names_from = bplcountry, values_from = value) %>%
mutate(variable = recode(variable,
mean_age = "Age",
mean_married_cohab = "Married/Cohabiting",
mean_english_speaker = "English Speakers",
mean_is_citizen = "Citizen",
mean_age_at_immigration = "Age at Immigration",
mean_years_in_us = "Years in US",
mean_less_than_primary_completed = "Less than Primary Completed",
mean_primary_completed = "Primary Completed",
mean_secondary_completed = "Secondary Completed",
mean_university_completed = "University Completed"
))
}
table_sex_1 <- create_table_for_sex(1)
table_sex_2 <- create_table_for_sex(2)
combined_table <- bind_rows(
table_sex_2, #females first
table_sex_1 #males second
)
combined_table <- combined_table %>%
mutate(across(where(is.numeric), round, digits = 2)) %>%
mutate(across(everything(), ~ as.character(.))) %>%
mutate(across(everything(), ~ ifelse(. == "NaN", "-", .))) %>%
mutate(across(everything(), ~ ifelse(. == "0", "-", .))) %>%
mutate(Gender = ifelse(row_number() == 1, "Women",
ifelse(row_number() == 11, "Men", ""))) %>%
select(Gender, variable, colombia, cuba, `dominican republic`, `el salvador`, guatemala, honduras, mexico, `puerto Rico`, `united states`) %>%
rename(Demographics = variable)
create_table_for_sex <- function(sex_value) {
us_df %>%
filter(sex == sex_value) %>%
group_by(bplcountry) %>%
summarise(
mean_age = weighted.mean(age, perwt, na.rm = TRUE),
mean_married_cohab = weighted.mean(married_cohab, perwt, na.rm = TRUE),
mean_english_speaker = weighted.mean(english_speaker, perwt, na.rm = TRUE),
mean_is_citizen = weighted.mean(is_citizen, perwt, na.rm = TRUE),
mean_age_at_immigration = weighted.mean(age_at_immigration, perwt, na.rm = TRUE),
mean_years_in_us = weighted.mean(years_in_us, perwt, na.rm = TRUE),
mean_less_than_primary_completed = weighted.mean(less_than_primary_completed, perwt, na.rm = TRUE),
mean_primary_completed = weighted.mean(primary_completed, perwt, na.rm = TRUE),
mean_secondary_completed = weighted.mean(secondary_completed, perwt, na.rm = TRUE),
mean_university_completed = weighted.mean(university_completed, perwt, na.rm = TRUE)
) %>%
pivot_longer(cols = -bplcountry, names_to = "variable", values_to = "value") %>%
pivot_wider(names_from = bplcountry, values_from = value) %>%
mutate(variable = recode(variable,
mean_age = "Age",
mean_married_cohab = "Married/Cohabiting",
mean_english_speaker = "English Speakers",
mean_is_citizen = "Citizen",
mean_age_at_immigration = "Age at Immigration",
mean_years_in_us = "Years in US",
mean_less_than_primary_completed = "Less than Primary Completed",
mean_primary_completed = "Primary Completed",
mean_secondary_completed = "Secondary Completed",
mean_university_completed = "University Completed"
))
}
table_sex_1 <- create_table_for_sex(1)
table_sex_2 <- create_table_for_sex(2)
combined_table <- bind_rows(
table_sex_2, #females first
table_sex_1 #males second
)
combined_table <- combined_table %>%
mutate(across(where(is.numeric), round, digits = 2)) %>%
mutate(across(everything(), ~ as.character(.))) %>%
mutate(across(everything(), ~ ifelse(. == "NaN", "-", .))) %>%
mutate(across(everything(), ~ ifelse(. == "0", "-", .))) %>%
mutate(Gender = ifelse(row_number() == 1, "Women",
ifelse(row_number() == 11, "Men", ""))) %>%
select(Gender, variable, colombia, cuba, `dominican republic`, `el salvador`, guatemala, honduras, mexico, `puerto rico`, `united states`) %>%
rename(Demographics = variable)
print(combined_table)
table2_code <- xtable(combined_table, caption = "Summary Statistics by Country and Sex",
align = "ll|l|lllllllll")
sink("/Users/chrissoria/Documents/Research/us_international_ses/tables/r_tables/table2.tex")
print(table2_code, type = "latex",
caption.placement = "top",
size = "\\small",
include.rownames = FALSE)
sink()
create_table_for_sex <- function(sex_value) {
us_df %>%
filter(sex == sex_value) %>%
group_by(bplcountry) %>%
summarise(
mean_age = weighted.mean(age, perwt, na.rm = TRUE),
mean_married_cohab = weighted.mean(married_cohab, perwt, na.rm = TRUE),
mean_english_speaker = weighted.mean(english_speaker, perwt, na.rm = TRUE),
mean_is_citizen = weighted.mean(is_citizen, perwt, na.rm = TRUE),
mean_age_at_immigration = weighted.mean(age_at_immigration, perwt, na.rm = TRUE),
mean_years_in_us = weighted.mean(years_in_us, perwt, na.rm = TRUE),
mean_less_than_primary_completed = weighted.mean(less_than_primary_completed, perwt, na.rm = TRUE),
mean_primary_completed = weighted.mean(primary_completed, perwt, na.rm = TRUE),
mean_secondary_completed = weighted.mean(secondary_completed, perwt, na.rm = TRUE),
mean_university_completed = weighted.mean(university_completed, perwt, na.rm = TRUE)
) %>%
pivot_longer(cols = -bplcountry, names_to = "variable", values_to = "value") %>%
pivot_wider(names_from = bplcountry, values_from = value) %>%
mutate(variable = recode(variable,
mean_age = "Age",
mean_married_cohab = "Married/Cohabiting",
mean_english_speaker = "English Speakers",
mean_is_citizen = "Citizen",
mean_age_at_immigration = "Age at Immigration",
mean_years_in_us = "Years in US",
mean_less_than_primary_completed = "Less than Primary Completed",
mean_primary_completed = "Primary Completed",
mean_secondary_completed = "Secondary Completed",
mean_university_completed = "University Completed"
))
}
table_sex_1 <- create_table_for_sex(1)
table_sex_2 <- create_table_for_sex(2)
combined_table <- bind_rows(
table_sex_2, #females first
table_sex_1 #males second
)
combined_table <- combined_table %>%
mutate(across(where(is.numeric), round, digits = 2)) %>%
mutate(across(everything(), ~ as.character(.))) %>%
mutate(across(everything(), ~ ifelse(. == "NaN", "-", .))) %>%
mutate(across(everything(), ~ ifelse(. == "0", "-", .))) %>%
mutate(Gender = ifelse(row_number() == 1, "Women",
ifelse(row_number() == 11, "Men", ""))) %>%
select(Gender, variable, colombia, cuba, `dominican republic`, `el salvador`, guatemala, honduras, mexico, `puerto rico`, `united states`) %>%
rename(
Demographics = variable,
Colombia = colombia,
Cuba = cuba,
`Dominican Republic` = `dominican republic`,
`El Salvador` = `el salvador`,
Guatemala = guatemala,
Honduras = honduras,
Mexico = mexico,
`Puerto Rico` = `puerto rico`,
`United States` = `united states`,
Demographics = variable
)
print(combined_table)
table2_code <- xtable(combined_table, caption = "Summary Statistics by Country and Sex",
align = "ll|l|lllllllll")
sink("/Users/chrissoria/Documents/Research/us_international_ses/tables/r_tables/table2.tex")
print(table2_code, type = "latex",
caption.placement = "top",
size = "\\small",
include.rownames = FALSE)
sink()
variable_labels <- c(
mean_age = "Age",
mean_married_cohab = "Married/Cohabiting",
mean_english_speaker = "English Speakers",
mean_is_citizen = "Citizen",
mean_age_at_immigration = "Age at Immigration",
mean_years_in_us = "Years in US",
mean_less_than_primary_completed = "Less than Primary Completed",
mean_primary_completed = "Primary Completed",
mean_secondary_completed = "Secondary Completed",
mean_university_completed = "University Completed"
)
create_table_for_race <- function(sex_value) {
us_df %>%
filter(sex == sex_value) %>%
filter(!is.na(race_native_category)) %>%
group_by(race_native_category) %>%
summarise(
mean_age = weighted.mean(age, perwt, na.rm = TRUE),
mean_married_cohab = weighted.mean(married_cohab, perwt, na.rm = TRUE),
mean_english_speaker = weighted.mean(english_speaker, perwt, na.rm = TRUE),
mean_is_citizen = weighted.mean(is_citizen, perwt, na.rm = TRUE),
mean_age_at_immigration = weighted.mean(age_at_immigration, perwt, na.rm = TRUE),
mean_years_in_us = weighted.mean(years_in_us, perwt, na.rm = TRUE),
mean_less_than_primary_completed = weighted.mean(less_than_primary_completed, perwt, na.rm = TRUE),
mean_primary_completed = weighted.mean(primary_completed, perwt, na.rm = TRUE),
mean_secondary_completed = weighted.mean(secondary_completed, perwt, na.rm = TRUE),
mean_university_completed = weighted.mean(university_completed, perwt, na.rm = TRUE)
) %>%
pivot_longer(cols = -race_native_category, names_to = "variable", values_to = "value") %>%
pivot_wider(names_from = race_native_category, values_from = value) %>%
mutate(variable = variable %>%
recode(!!!variable_labels))
}
table_sex_1 <- create_table_for_race(1)
table_sex_2 <- create_table_for_race(2)
combined_table <- bind_rows(
table_sex_2, #females first
table_sex_1 #males second
)
combined_table <- combined_table %>%
mutate(across(where(is.numeric), round, digits = 2)) %>%
mutate(across(everything(), ~ as.character(.))) %>%
mutate(across(everything(), ~ ifelse(. == "NaN", "-", .))) %>%
mutate(across(everything(), ~ ifelse(. == "0", "-", .))) %>%
mutate(across(everything(), ~ ifelse(. == "1", "-", .))) %>%
mutate(Gender = ifelse(row_number() == 1, "Women",
ifelse(row_number() == 11, "Men", ""))) %>%
select(Gender, variable, colombia, cuba, `dominican republic`, `el salvador`, guatemala, honduras, mexico, `puerto rico`, `united states`) %>%
rename(
Demographics = variable,
Colombia = colombia,
Cuba = cuba,
`Dominican Republic` = `dominican republic`,
`El Salvador` = `el salvador`,
Guatemala = guatemala,
Honduras = honduras,
Mexico = mexico,
`Puerto Rico` = `puerto rico`,
`United States` = `united states`,
Demographics = variable
)
combined_table
create_table_for_sex <- function(sex_value) {
us_df %>%
filter(sex == sex_value) %>%
group_by(bplcountry) %>%
summarise(
mean_age = weighted.mean(age, perwt, na.rm = TRUE),
mean_married_cohab = weighted.mean(married_cohab, perwt, na.rm = TRUE),
mean_english_speaker = weighted.mean(english_speaker, perwt, na.rm = TRUE),
mean_is_citizen = weighted.mean(is_citizen, perwt, na.rm = TRUE),
mean_age_at_immigration = weighted.mean(age_at_immigration, perwt, na.rm = TRUE),
mean_years_in_us = weighted.mean(years_in_us, perwt, na.rm = TRUE),
mean_less_than_primary_completed = weighted.mean(less_than_primary_completed, perwt, na.rm = TRUE),
mean_primary_completed = weighted.mean(primary_completed, perwt, na.rm = TRUE),
mean_secondary_completed = weighted.mean(secondary_completed, perwt, na.rm = TRUE),
mean_university_completed = weighted.mean(university_completed, perwt, na.rm = TRUE)
) %>%
pivot_longer(cols = -bplcountry, names_to = "variable", values_to = "value") %>%
pivot_wider(names_from = bplcountry, values_from = value) %>%
mutate(variable = recode(variable,
mean_age = "Age",
mean_married_cohab = "Married/Cohabiting",
mean_english_speaker = "English Speakers",
mean_is_citizen = "Citizen",
mean_age_at_immigration = "Age at Immigration",
mean_years_in_us = "Years in US",
mean_less_than_primary_completed = "Less than Primary Completed",
mean_primary_completed = "Primary Completed",
mean_secondary_completed = "Secondary Completed",
mean_university_completed = "University Completed"
))
}
table_sex_1 <- create_table_for_sex(1)
table_sex_2 <- create_table_for_sex(2)
combined_table <- bind_rows(
table_sex_2, #females first
table_sex_1 #males second
)
combined_table <- combined_table %>%
mutate(across(where(is.numeric), round, digits = 2)) %>%
mutate(across(everything(), ~ as.character(.))) %>%
mutate(across(everything(), ~ ifelse(. == "NaN", "-", .))) %>%
mutate(across(everything(), ~ ifelse(. == "0", "-", .))) %>%
mutate(Gender = ifelse(row_number() == 1, "Women",
ifelse(row_number() == 11, "Men", ""))) %>%
select(Gender, variable, colombia, cuba, `dominican republic`, `el salvador`, guatemala, honduras, mexico, `puerto rico`, `united states`) %>%
rename(
Colombia = colombia,
Cuba = cuba,
`Dominican Republic` = `dominican republic`,
`El Salvador` = `el salvador`,
Guatemala = guatemala,
Honduras = honduras,
Mexico = mexico,
`Puerto Rico` = `puerto rico`,
`United States` = `united states`,
Demographics = variable
)
print(combined_table)
table2_code <- xtable(combined_table, caption = "Summary Statistics by Country and Sex",
align = "ll|l|lllllllll")
sink("/Users/chrissoria/Documents/Research/us_international_ses/tables/r_tables/table2.tex")
print(table2_code, type = "latex",
caption.placement = "top",
size = "\\small",
include.rownames = FALSE)
sink()
